[
  {
    "kind": 2,
    "language": "sparql",
    "value": "# Which are the values of tenders for a given day?\n\nPREFIX epo: <http://data.europa.eu/a4g/ontology#>\nPREFIX cccev: <http://data.europa.eu/m8g/>\n\nSELECT DISTINCT\n?Notice\n?PublicationDate\n?LotAwardedValueCurrencyURI\nwhere {\n\n    VALUES ?PublicationDate {\n        \"20230911\"\n    }\n\n    ?Notice epo:hasPublicationDate ?PublicationDate;\n            epo:refersToLot ?Lot .\n    ?LotAwardOutcome epo:describesLot ?Lot ;\n                     epo:hasAwardedValue / epo:hasAmountValue ?AwardetValue;\n                     epo:hasAwardedValue / epo:hasCurrency ?LotAwardedValueCurrencyURI.\n\n} LIMIT 10\n",
    "metadata": {}
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "I'm asking for the number of notices for each CPV. Note that the query is asking for the labels of such CPV in english. This data comes an additional taxonomy. ",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX epo: <http://data.europa.eu/a4g/ontology#>\nPREFIX cccev: <http://data.europa.eu/m8g/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ns5: <http://publications.europa.eu/ontology/euvoc#>\n\nSELECT ?concept (COUNT(?Notice) AS ?count) ?label\nWHERE {\n    VALUES ?PublicationDate {\n        \"20230911\"\n    }\n\n    ?Notice epo:refersToProcedure ?procedure.\n    ?procedure epo:hasPurpose ?purpose .\n    ?purpose epo:hasMainClassification ?concept .\n    ?concept a skos:Concept ;\n            skos:prefLabel ?label ;\n            ns5:status <http://publications.europa.eu/resource/authority/concept-status/CURRENT> .\n    FILTER(LANG(?label) = 'en')\n}\nGROUP BY ?concept ?label\nORDER BY DESC(?count)\nLIMIT 100",
    "metadata": {}
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "The most common is <http://data.europa.eu/cpv/cpv/33600000>, but what is that code about? \n- Perhaps show the example without labels, then add them. \n- Add another query to show the broader, narrower\n",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n    PREFIX ns5: <http://publications.europa.eu/ontology/euvoc#>\n\n    SELECT DISTINCT ?narrow ?label\n    WHERE {{\n      <http://data.europa.eu/cpv/cpv/33600000> skos:narrower* ?narrow .\n      ?narrow skos:prefLabel ?label ;\n              ns5:status <http://publications.europa.eu/resource/authority/concept-status/CURRENT> ;\n              skos:inScheme <http://data.europa.eu/cpv/cpv> .\n      FILTER(LANG(?label) = 'en')\n    }}",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ns5: <http://publications.europa.eu/ontology/euvoc#>\n\nSELECT DISTINCT ?parent ?parentLabel ?child ?childLabel\nWHERE {\n  VALUES ?category { <http://data.europa.eu/cpv/cpv/33600000> }\n  \n  ?category skos:prefLabel ?categoryLabel ;\n            ns5:status <http://publications.europa.eu/resource/authority/concept-status/CURRENT> ;\n            skos:inScheme <http://data.europa.eu/cpv/cpv> .\n  FILTER(LANG(?categoryLabel) = 'en')\n  \n\n}\n",
    "metadata": {}
  }
]